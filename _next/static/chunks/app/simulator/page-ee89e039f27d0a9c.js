(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9683],{33:(e,t,a)=>{Promise.resolve().then(a.bind(a,8932))},8932:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(5155),l=a(2115);let i=[{id:"calendar-wall-b3",name:"壁掛けカレンダー (B3)",category:"カレンダー",categoryColor:"#2563EB",width:364,height:515,shape:"rect",defaultBgColor:"#FFFFFF",description:"B3サイズの壁掛けカレンダー。上部にデザイン、下部にカレンダー面。",textArea:{x:.1,y:.05,width:.8,height:.15},imageArea:{x:.05,y:.2,width:.9,height:.35}},{id:"calendar-desk",name:"卓上カレンダー",category:"カレンダー",categoryColor:"#2563EB",width:420,height:297,shape:"rect",defaultBgColor:"#FFFFFF",description:"卓上リング式カレンダー。横型デザイン。",textArea:{x:.1,y:.05,width:.8,height:.15},imageArea:{x:.05,y:.22,width:.9,height:.45}},{id:"uchiwa-standard",name:"うちわ（レギュラー）",category:"うちわ・扇子",categoryColor:"#22C55E",width:400,height:500,shape:"fan",defaultBgColor:"#FFFFFF",description:"標準サイズのうちわ。丸型の印刷面。",textArea:{x:.15,y:.08,width:.7,height:.15},imageArea:{x:.1,y:.2,width:.8,height:.4}},{id:"acrylic-keychain",name:"アクリルキーホルダー",category:"アクリルグッズ",categoryColor:"#8B5CF6",width:200,height:280,shape:"keychain",defaultBgColor:"#FFFFFF",description:"アクリルキーホルダー。透明素材にフルカラー印刷。",textArea:{x:.1,y:.55,width:.8,height:.15},imageArea:{x:.1,y:.1,width:.8,height:.45}},{id:"acrylic-stand",name:"アクリルスタンド",category:"アクリルグッズ",categoryColor:"#8B5CF6",width:300,height:400,shape:"rounded-rect",defaultBgColor:"#FFFFFF",description:"アクリルスタンド。フルカラー印刷でオリジナルデザイン。",textArea:{x:.1,y:.65,width:.8,height:.12},imageArea:{x:.05,y:.05,width:.9,height:.58}},{id:"sticker-circle",name:"丸型シール",category:"シール・ステッカー",categoryColor:"#F97316",width:300,height:300,shape:"circle",defaultBgColor:"#FFFFFF",description:"丸型シール。ロゴやキャラクターに最適。",textArea:{x:.15,y:.6,width:.7,height:.15},imageArea:{x:.15,y:.1,width:.7,height:.45}},{id:"sticker-rect",name:"角型シール",category:"シール・ステッカー",categoryColor:"#F97316",width:400,height:250,shape:"rounded-rect",defaultBgColor:"#FFFFFF",description:"角型シール（角丸）。ラベルや商品シールに。",textArea:{x:.05,y:.6,width:.9,height:.2},imageArea:{x:.05,y:.05,width:.9,height:.5}},{id:"towel-face",name:"フェイスタオル",category:"タオル・名入れ",categoryColor:"#EC4899",width:500,height:200,shape:"rect",defaultBgColor:"#FFFFFF",description:"フェイスタオル。名入れ印刷対応。",textArea:{x:.1,y:.3,width:.8,height:.4},imageArea:{x:.02,y:.05,width:.3,height:.9}}],s=[{id:"noto-sans",name:"ゴシック体",family:'"Noto Sans JP", sans-serif'},{id:"serif",name:"明朝体",family:"serif"},{id:"rounded",name:"丸ゴシック",family:'"M PLUS Rounded 1c", sans-serif'},{id:"monospace",name:"等幅",family:"monospace"}],n=[{name:"ホワイト",value:"#FFFFFF"},{name:"アイボリー",value:"#FFFFF0"},{name:"ライトブルー",value:"#DBEAFE"},{name:"ライトグリーン",value:"#DCFCE7"},{name:"ライトピンク",value:"#FCE7F3"},{name:"ライトイエロー",value:"#FEF9C3"},{name:"ライトパープル",value:"#EDE9FE"},{name:"ライトオレンジ",value:"#FED7AA"},{name:"ブラック",value:"#1F2937"},{name:"ネイビー",value:"#1E3A5F"},{name:"レッド",value:"#DC2626"},{name:"ブルー",value:"#2563EB"}],o=[{name:"ブラック",value:"#1F2937"},{name:"ホワイト",value:"#FFFFFF"},{name:"レッド",value:"#DC2626"},{name:"ブルー",value:"#2563EB"},{name:"グリーン",value:"#16A34A"},{name:"オレンジ",value:"#EA580C"},{name:"パープル",value:"#7C3AED"},{name:"ピンク",value:"#DB2777"},{name:"ゴールド",value:"#CA8A04"}];function d(e,t,a,r){switch(e.beginPath(),t){case"circle":{let t=Math.min(a,r)/2;e.arc(a/2,r/2,t,0,2*Math.PI);break}case"fan":{let t=a/2,l=.45*a,i=.05*r;e.arc(t,i+l,l,0,2*Math.PI),e.moveTo(t-15,i+2*l),e.lineTo(t+15,i+2*l),e.lineTo(t+10,r),e.lineTo(t-10,r),e.closePath();break}case"keychain":e.moveTo(16,32),e.lineTo(a-16,32),e.arcTo(a,32,a,48,16),e.lineTo(a,r-16),e.arcTo(a,r,a-16,r,16),e.lineTo(16,r),e.arcTo(0,r,0,r-16,16),e.lineTo(0,48),e.arcTo(0,32,16,32,16),e.closePath(),e.moveTo(a/2+10+6,18),e.arc(a/2,18,16,0,2*Math.PI),e.moveTo(a/2+10,18),e.arc(a/2,18,10,0,2*Math.PI,!0);break;case"rounded-rect":e.moveTo(20,0),e.lineTo(a-20,0),e.arcTo(a,0,a,20,20),e.lineTo(a,r-20),e.arcTo(a,r,a-20,r,20),e.lineTo(20,r),e.arcTo(0,r,0,r-20,20),e.lineTo(0,20),e.arcTo(0,0,20,0,20),e.closePath();break;default:e.rect(0,0,a,r)}}function c(e,t,a,r,l,i,s,n,o,c){let m=t.width,h=t.height;if(e.clearRect(0,0,m,h),e.save(),d(e,t.shape,m,h),"keychain"===t.shape?e.clip("evenodd"):e.clip(),e.fillStyle=a,e.fillRect(0,0,m,h),r){let a=t.imageArea,s=m*a.width,n=h*a.height,o=m*a.x,d=h*a.y,c=r.naturalWidth,x=r.naturalHeight,u=Math.min(s/c,n/x)*i,g=c*u,p=x*u,b=o+(s-g)/2+l.x,f=d+(n-p)/2+l.y;e.drawImage(r,b,f,g,p)}let x=s.trim();if(x){let a=t.textArea,r=m*(a.x+a.width/2),l=h*(a.y+a.height/2),i=m*a.width,s=Math.min(o,h*a.height*.8);e.fillStyle=n,e.font="bold ".concat(s,"px ").concat(c),e.textAlign="center",e.textBaseline="middle";let d=x.split("\n"),u=1.4*s,g=l-(d.length-1)*u/2;d.forEach((t,a)=>{e.fillText(t,r,g+a*u,i)})}e.restore(),e.save(),e.strokeStyle="#D1D5DB",e.lineWidth=2,d(e,t.shape,m,h),e.stroke(),e.restore()}function m(){let[e,t]=(0,l.useState)(i[0]),[a,d]=(0,l.useState)(i[0].defaultBgColor),[m,h]=(0,l.useState)("サンプルテキスト"),[x,u]=(0,l.useState)(s[0].family),[g,p]=(0,l.useState)("#1F2937"),[b,f]=(0,l.useState)(28),[y,v]=(0,l.useState)(null),[F,w]=(0,l.useState)({x:0,y:0}),[j,N]=(0,l.useState)(1),[C,k]=(0,l.useState)(!1),[A,D]=(0,l.useState)({x:0,y:0}),[E,T]=(0,l.useState)("product"),B=(0,l.useRef)(null),P=(0,l.useRef)(null),S=(0,l.useRef)(0),[M,R]=(0,l.useState)(1);(0,l.useEffect)(()=>{function t(){if(!P.current)return;let t=P.current.clientWidth-32,a=.6*window.innerHeight;R(Math.min(t/e.width,a/e.height,1.5))}return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]);let I=(0,l.useCallback)(()=>{let t=B.current;if(!t)return;let r=t.getContext("2d");r&&(t.width=e.width,t.height=e.height,c(r,e,a,y,F,j,m,g,b,x))},[e,a,m,x,g,b,y,F,j]);function _(e){let t=B.current;if(!t)return{x:0,y:0};let a=t.getBoundingClientRect();return{x:(e.clientX-a.left)/M,y:(e.clientY-a.top)/M}}function z(){k(!1)}(0,l.useEffect)(()=>{I()},[I]);let L=i.reduce((e,t)=>{var a,r;return(null!==(r=e[a=t.category])&&void 0!==r?r:e[a]=[]).push(t),e},{});return(0,r.jsxs)("div",{className:"min-h-screen bg-bg",children:[(0,r.jsx)("section",{className:"bg-white border-b border-border",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6 sm:py-8",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold font-[family-name:var(--font-heading)] text-text",children:"\uD83C\uDFA8 デザインシミュレーター"}),(0,r.jsx)("p",{className:"mt-2 text-text-secondary text-sm sm:text-base",children:"商品を選んで、テキストや画像を配置。仕上がりイメージをその場で確認できます。"})]})}),(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-6 sm:py-8",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{ref:P,className:"bg-white rounded-xl shadow-sm border border-border p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.categoryColor},"aria-hidden":"true"}),(0,r.jsx)("span",{className:"font-semibold text-text text-sm sm:text-base",children:e.name}),(0,r.jsxs)("span",{className:"text-xs text-text-secondary ml-auto",children:[e.width,"\xd7",e.height,"px"]})]}),(0,r.jsx)("div",{className:"flex justify-center overflow-hidden",children:(0,r.jsx)("canvas",{ref:B,role:"img","aria-label":"".concat(e.name,"のデザインプレビュー"),className:"cursor-move",style:{width:e.width*M,height:e.height*M,touchAction:"none"},onPointerDown:function(e){if(!y)return;e.preventDefault(),e.target.setPointerCapture(e.pointerId);let t=_(e);k(!0),D({x:t.x-F.x,y:t.y-F.y})},onPointerMove:function(e){if(!C)return;e.preventDefault();let t=_(e),a={x:t.x-A.x,y:t.y-A.y};cancelAnimationFrame(S.current),S.current=requestAnimationFrame(()=>{w(a)})},onPointerUp:z,onPointerCancel:z})}),y&&(0,r.jsx)("p",{className:"text-xs text-text-secondary text-center mt-2",children:"\uD83D\uDCA1 キャンバスをドラッグして画像を移動できます"}),(0,r.jsx)("button",{onClick:function(){let t=document.createElement("canvas");t.width=2*e.width,t.height=2*e.height;let r=t.getContext("2d");if(!r)return;r.scale(2,2),c(r,e,a,y,F,j,m,g,b,x);let l=document.createElement("a");l.download="".concat(e.id,"-design.png"),l.href=t.toDataURL("image/png"),l.click()},className:"mt-4 w-full py-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition-colors shadow-sm",children:"\uD83D\uDCE5 デザインをダウンロード（PNG）"})]})}),(0,r.jsxs)("div",{className:"lg:w-[360px] flex-shrink-0",children:[(0,r.jsx)("div",{className:"flex rounded-lg bg-surface border border-border overflow-hidden mb-4",role:"tablist","aria-label":"デザイン設定",children:[["product","\uD83C\uDFF7️ 商品"],["text","✏️ テキスト"],["image","\uD83D\uDDBC️ 画像"],["bg","\uD83C\uDFA8 背景"]].map(e=>{let[t,a]=e;return(0,r.jsx)("button",{role:"tab","aria-selected":E===t,"aria-controls":"panel-".concat(t),onClick:()=>T(t),className:"flex-1 py-2.5 text-xs sm:text-sm font-medium transition-colors ".concat(E===t?"bg-white text-primary shadow-sm":"text-text-secondary hover:text-text"),children:a},t)})}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-border p-4 sm:p-5",children:["product"===E&&(0,r.jsxs)("div",{id:"panel-product",role:"tabpanel",className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-text",children:"商品を選択"}),Object.entries(L).map(a=>{let[l,i]=a;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs font-medium text-text-secondary mb-2 flex items-center gap-1.5",children:[(0,r.jsx)("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:i[0].categoryColor},"aria-hidden":"true"}),l]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:i.map(a=>(0,r.jsxs)("button",{onClick:()=>{t(a),d(a.defaultBgColor),v(null),w({x:0,y:0}),N(1)},"aria-pressed":e.id===a.id,className:"text-left p-3 rounded-lg border transition-all text-sm ".concat(e.id===a.id?"border-primary bg-blue-50 text-primary":"border-border hover:border-primary/40 text-text"),children:[(0,r.jsx)("span",{className:"font-medium",children:a.name}),(0,r.jsx)("span",{className:"block text-xs text-text-secondary mt-0.5",children:a.description})]},a.id))})]},l)})]}),"text"===E&&(0,r.jsxs)("div",{id:"panel-text",role:"tabpanel",className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-text",children:"テキスト設定"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sim-text",className:"block text-xs font-medium text-text-secondary mb-1",children:"テキスト"}),(0,r.jsx)("textarea",{id:"sim-text",value:m,onChange:e=>h(e.target.value),rows:3,className:"w-full border border-border rounded-lg px-3 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none resize-none",placeholder:"テキストを入力..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sim-font",className:"block text-xs font-medium text-text-secondary mb-1",children:"フォント"}),(0,r.jsx)("select",{id:"sim-font",value:x,onChange:e=>u(e.target.value),className:"w-full border border-border rounded-lg px-3 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none",children:s.map(e=>(0,r.jsx)("option",{value:e.family,children:e.name},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"sim-fontsize",className:"block text-xs font-medium text-text-secondary mb-1",children:["文字サイズ: ",b,"px"]}),(0,r.jsx)("input",{id:"sim-fontsize",type:"range",min:12,max:72,value:b,onChange:e=>f(Number(e.target.value)),className:"w-full accent-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"文字色"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",role:"radiogroup","aria-label":"文字色",children:o.map(e=>(0,r.jsx)("button",{onClick:()=>p(e.value),role:"radio","aria-checked":g===e.value,"aria-label":e.name,className:"w-8 h-8 rounded-full border-2 transition-transform hover:scale-110 ".concat(g===e.value?"border-primary scale-110":"border-border"),style:{backgroundColor:e.value}},e.value))})]})]}),"image"===E&&(0,r.jsxs)("div",{id:"panel-image",role:"tabpanel",className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-text",children:"画像設定"}),(0,r.jsxs)("label",{className:"flex flex-col items-center justify-center border-2 border-dashed border-border rounded-lg p-6 cursor-pointer hover:border-primary/50 transition-colors",children:[(0,r.jsx)("span",{className:"text-3xl mb-2","aria-hidden":"true",children:"\uD83D\uDCC1"}),(0,r.jsx)("span",{className:"text-sm text-text-secondary",children:"クリックして画像を選択"}),(0,r.jsx)("span",{className:"text-xs text-text-secondary mt-1",children:"JPG / PNG / SVG"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let r=new FileReader;r.onload=e=>{var t;let a=new Image;a.onload=()=>{v(a),w({x:0,y:0}),N(1)},a.src=null===(t=e.target)||void 0===t?void 0:t.result},r.readAsDataURL(a)},className:"hidden","aria-label":"画像ファイルを選択"})]}),y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"sim-imgscale",className:"block text-xs font-medium text-text-secondary mb-1",children:["画像サイズ: ",Math.round(100*j),"%"]}),(0,r.jsx)("input",{id:"sim-imgscale",type:"range",min:.2,max:3,step:.05,value:j,onChange:e=>N(Number(e.target.value)),className:"w-full accent-primary"})]}),(0,r.jsx)("button",{onClick:()=>{v(null),w({x:0,y:0}),N(1)},className:"w-full py-2 rounded-lg border border-danger text-danger text-sm hover:bg-red-50 transition-colors",children:"\uD83D\uDDD1️ 画像を削除"})]})]}),"bg"===E&&(0,r.jsxs)("div",{id:"panel-bg",role:"tabpanel",className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-text",children:"背景色"}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3",role:"radiogroup","aria-label":"背景色",children:n.map(e=>(0,r.jsx)("button",{onClick:()=>d(e.value),role:"radio","aria-checked":a===e.value,"aria-label":e.name,className:"aspect-square rounded-lg border-2 transition-transform hover:scale-105 ".concat(a===e.value?"border-primary scale-105 ring-2 ring-primary/20":"border-border"),style:{backgroundColor:e.value}},e.value))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sim-custom-color",className:"block text-xs font-medium text-text-secondary mb-1",children:"カスタムカラー"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"color",value:a,onChange:e=>d(e.target.value),className:"w-10 h-10 rounded-lg border border-border cursor-pointer","aria-label":"カラーピッカー"}),(0,r.jsx)("input",{id:"sim-custom-color",type:"text",value:a,onChange:e=>d(e.target.value),className:"flex-1 border border-border rounded-lg px-3 py-2 text-sm font-mono focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none"})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 bg-blue-50 rounded-lg p-4 border border-blue-100",children:[(0,r.jsx)("p",{className:"text-xs text-primary font-medium",children:"\uD83D\uDCA1 ヒント"}),(0,r.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"このシミュレーターはイメージ確認用です。実際の印刷データは入稿時に調整いたします。 ダウンロードした画像をお見積もり時に添付いただくとスムーズです。"})]})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(33)),_N_E=e.O()}]);